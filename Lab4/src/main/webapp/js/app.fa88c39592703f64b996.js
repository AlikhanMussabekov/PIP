webpackJsonp([1],{NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("7+uW"),r=n("mtWM"),s=n.n(r),i=n("pFYg"),a=n.n(i),l={name:"Map",props:{r:{type:Number,default:1},points:{type:Array,default:[]}},methods:{getColor:function(t){return"Лежит"===t?"green":"red"},getX:function(t){return console.log(t+" "+(void 0===t?"undefined":a()(t))),150+100*t/this.r},getY:function(t){return 150-100*t/this.r}}},c={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{width:"300px",height:"300px",display:"block"},on:{click:function(e){t.$emit("update:click",e)}}},[n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"300",height:"300"}},[n("path",{attrs:{d:" M200,150 A50,50 0 0,1 150,200 L150,150 L250,150 L250,100 L150,100 L150,150 L150,250 L50,150",fill:"blue","fill-opacity":"1"}}),t._v(" "),n("line",{attrs:{x1:"150",y1:"0",x2:"150",y2:"300",stroke:"black","stroke-width":"2"}}),t._v(" "),n("line",{attrs:{x1:"0",y1:"150",x2:"300",y2:"150",stroke:"black","stroke-width":"2"}}),t._v(" "),n("line",{attrs:{x1:"140",y1:"10",x2:"150",y2:"0",stroke:"black","stroke-width":"2"}}),t._v(" "),n("line",{attrs:{x1:"160",y1:"10",x2:"150",y2:"0",stroke:"black","stroke-width":"2"}}),t._v(" "),n("line",{attrs:{x1:"290",y1:"140",x2:"300",y2:"150",stroke:"black","stroke-width":"2"}}),t._v(" "),n("line",{attrs:{x1:"290",y1:"160",x2:"300",y2:"150",stroke:"black","stroke-width":"2"}}),t._v(" "),t._l(t.points,function(e){return n("circle",{key:e.id,attrs:{cx:t.getX(e.x),cy:t.getY(e.y),r:"3",fill:t.getColor(e.result)}})}),t._v(" "),n("text",{attrs:{x:"200",y:"150",fill:""}},[t._v(t._s(t.r/2))]),t._v(" "),n("text",{attrs:{x:"100",y:"150",fill:""}},[t._v(t._s(t.r/2))]),t._v(" "),n("text",{attrs:{x:"150",y:"100",fill:""}},[t._v(t._s(t.r/2))]),t._v(" "),n("text",{attrs:{x:"150",y:"200",fill:""}},[t._v(t._s(-t.r/2))]),t._v(" "),n("text",{attrs:{x:"250",y:"150",fill:""}},[t._v(t._s(t.r))]),t._v(" "),n("text",{attrs:{x:"50",y:"150",fill:""}},[t._v(t._s(-t.r))]),t._v(" "),n("text",{attrs:{x:"150",y:"50",fill:""}},[t._v(t._s(t.r))]),t._v(" "),n("text",{attrs:{x:"150",y:"250",fill:""}},[t._v(t._s(-t.r))]),t._v(" "),n("rect",{attrs:{x:"0",y:"0",width:"300",height:"300",opacity:"0"}})],2)])},staticRenderFns:[]},u=n("VU/8")(l,c,!1,null,null,null).exports,p=n("MICi"),d=n.n(p),v={name:"Controls",props:{r:{type:Number,default:1}},methods:{send:function(){var t=this;if(!this.valid)return!1;s()("https://localhost:8080/Lab4/app/points/check",{params:{x:this.x,y:this.y,r:this.rt},method:"POST"}).then(function(e){t.$emit("update:points",e.data)}).catch(function(e){t.$emit("update:points",{x:t.x,y:t.y,r:t.rt,id:0,inside:"Не лежит"}),console.log(e)})}},computed:{valid:function(){return!d()(this.y)&&this.y>=-5&&this.y<=3}},data:function(){return{x:0,y:0,rt:1}}},_={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("form",{on:{submit:function(e){return e.preventDefault(),t.send(e)}}},[n("label",{attrs:{for:"xs"}},[t._v("X:")]),t._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.x,expression:"x"}],attrs:{id:"xs"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.x=e.target.multiple?n:n[0]}}},t._l(9,function(e){return n("option",{domProps:{value:e/2-2.5}},[t._v(t._s(e/2-2.5))])}),0),t._v(" "),n("br"),t._v(" "),n("label",{attrs:{for:"ys"}},[t._v("Y:")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.y,expression:"y",modifiers:{number:!0}}],attrs:{id:"ys",type:"text",placeholder:"(-5..3)"},domProps:{value:t.y},on:{input:function(e){e.target.composing||(t.y=t._n(e.target.value))},blur:function(e){t.$forceUpdate()}}}),t._v(" "),n("br"),t._v(" "),n("label",{attrs:{for:"rs"}},[t._v("R:")]),t._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.rt,expression:"rt"}],attrs:{id:"rs"},on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.rt=e.target.multiple?n:n[0]},function(e){t.$emit("update:r",e.target.value)}]}},t._l(4,function(e){return n("option",{domProps:{value:e/2}},[t._v(t._s(e/2))])}),0),t._v(" "),t.valid?t._e():n("div",{staticStyle:{color:"red"}},[t._v("Y should be a number between -5 and 3")])])])},staticRenderFns:[]},h=n("VU/8")(v,_,!1,null,null,null).exports,m={name:"ResultRow",props:{point:{type:Object}},methods:{remove:function(){this.$emit("remove",this.point.id)}}},f={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",[n("td",[t._v("\n    "+t._s(t.point.x)+"\n  ")]),t._v(" "),n("td",[t._v("\n    "+t._s(t.point.y)+"\n  ")]),t._v(" "),n("td",[t._v("\n    "+t._s(t.point.r)+"\n  ")]),t._v(" "),n("td",[t._v("\n    "+t._s(t.point.result)+"\n  ")]),t._v(" "),n("td",[n("input",{attrs:{type:"button"},on:{click:t.remove}})])])},staticRenderFns:[]},g={name:"Results",components:{ResultRow:n("VU/8")(m,f,!1,null,null,null).exports},props:{points:{type:Array,default:[]}}},y={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{height:"200px","overflow-y":"scroll"}},[n("table",[t._m(0),t._v(" "),t._m(1),t._v(" "),n("tbody",t._l(t.points,function(e){return n("ResultRow",{key:e.id,attrs:{point:e},on:{remove:function(e){t.$emit("removePoint",e)}}})}),1)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("colgroup",[e("col",{staticStyle:{width:"25%"}}),this._v(" "),e("col",{staticStyle:{width:"25%"}}),this._v(" "),e("col",{staticStyle:{width:"25%"}}),this._v(" "),e("col",{staticStyle:{width:"25%"}})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",[t._v("\n        X\n      ")]),t._v(" "),n("th",[t._v("\n        Y\n      ")]),t._v(" "),n("th",[t._v("\n        R\n      ")]),t._v(" "),n("th",[t._v("\n        Result\n      ")]),t._v(" "),n("th",[t._v("\n        Delete\n      ")])])])}]},x=n("VU/8")(g,y,!1,null,null,null).exports,b={name:"Session",methods:{login:function(){var t=this;s()("http://localhost:8080/Lab4/app/user/login",{params:{username:this.name,password:this.password},method:"POST"}).then(function(e){t.$emit("login"),t.logged=!0,t.success=!0,console.log(e.data.msg)}).catch(function(e){t.success=!1,name.borderColor="red",password.borderColor="red"})},logout:function(){s()("http://localhost:8080/Lab4/app/user/logout",{params:{},method:"POST"}).then(function(t){}).catch(function(t){console.log(t)}),this.$emit("logout"),this.logged=!1,this.success=!0},register:function(){var t=this;s()("http://localhost:8080/Lab4/app/user/register",{params:{username:this.name,password:this.password},method:"POST"}).then(function(e){console.log(e.data.login+" "+e.data.id),t.login()}).catch(function(t){console.log(t),name.borderColor="red",password.borderColor="red"})}},data:function(){return{logged:!1,name:"",password:"",success:!0}}},w={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.logged?n("input",{attrs:{type:"button",value:"Logout"},on:{click:t.logout}}):n("form",{on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],class:{incorrect:!t.success},attrs:{type:"text",placeholder:"Login"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),t._v(" "),n("br"),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],class:{incorrect:!t.success},attrs:{type:"password",placeholder:"******"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._v(" "),n("br"),t._v(" "),n("input",{attrs:{type:"submit",value:"Log in"}}),t._v(" "),n("input",{attrs:{type:"button",value:"Register"},on:{click:t.register}}),t._v(" "),n("br"),t._v(" "),t.success?t._e():n("div",{staticStyle:{color:"red"}},[t._v("Cannot log in")])])])},staticRenderFns:[]};var k={name:"App",components:{Session:n("VU/8")(b,w,!1,function(t){n("R0Dl")},null,null).exports,Results:x,Map:u,Controls:h},methods:{send:function(t,e){var n=this;s()("http://localhost:8080/Lab4/app/points/check",{params:{x:t,y:e,r:this.r},method:"POST"}).then(function(t){n.points.unshift(t.data)}).catch(function(o){n.points.unshift({x:t,y:e,r:n.r,id:0,result:"Не лежит"}),console.log(o)})},processClick:function(t){this.send((t.offsetX-150)/100*this.r,(150-t.offsetY)/100*this.r)},login:function(){var t=this;s()("http://localhost:8080/Lab4/app/points",{params:{},method:"GET"}).then(function(e){console.log(e.data),t.points=e.data}).catch(function(e){t.points=[],console.log(e)}),this.logged=!0},logout:function(){this.points=[],this.logged=!1},removePoint:function(t){console.log(t),this.points=this.points.filter(function(e){return e.id!=t}),s()("http://localhost:8080/Lab4/app/points/delete",{params:{id:t},method:"POST"}).then(function(t){}).catch(function(t){console.log(t)})}},data:function(){return{r:1,points:[],logged:!1}}},S={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"grid-root"},[t._m(0),t._v(" "),n("div",{staticStyle:{"grid-area":"group"},attrs:{align:"center"}},[t._v("P3211")]),t._v(" "),n("div",{staticStyle:{"grid-area":"var"}},[t._v("Вариант 311243")]),t._v(" "),t.logged?n("Map",{staticStyle:{"grid-area":"map",alignment:"center"},attrs:{r:t.r,points:t.points},on:{"update:click":t.processClick}}):t._e(),t._v(" "),t.logged?n("Controls",{staticStyle:{"grid-area":"controls"},attrs:{r:t.r},on:{"update:r":function(e){t.r=e},"update:points":function(e){t.points.unshift(e)}}}):t._e(),t._v(" "),t.logged?n("Results",{staticStyle:{"grid-area":"results"},attrs:{points:t.points},on:{removePoint:function(e){t.removePoint(e)}}}):t._e(),t._v(" "),n("Session",{style:{gridArea:t.logged?"login":"map"},on:{login:t.login,logout:t.logout}})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{"grid-area":"names"}},[this._v("Мусабеков Алихан "),e("br"),this._v(" Мацкевич Игорь")])}]};var R=n("VU/8")(k,S,!1,function(t){n("uWAM")},null,null).exports;o.a.config.productionTip=!1,new o.a({el:"#app",components:{App:R},template:"<App/>"})},R0Dl:function(t,e){},uWAM:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.fa88c39592703f64b996.js.map